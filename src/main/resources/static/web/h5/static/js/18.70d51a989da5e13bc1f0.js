webpackJsonp([18],{"0xm2":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("woOf"),a=s.n(i),n=s("gyMJ"),o=s("VuIw"),c=s("OKQQ"),r={mixins:[],data:function(){return{secondInfoList:[{name:"手机",value:""},{name:"加入时间",value:""},{name:"抽佣比例",value:""}],userId:o.a.getJSON().userId,info:{},userInfo:{},userType:"",editMessage:!1,name:"",aliAccountNumber:"",info_id:"",isName:!1}},created:function(){this.getUserInfo(),this.getPay(),console.log(this.userId,"userid")},filters:{toPercent:function(e){return console.log("1"),100*(e||"0")+"%"}},methods:{getUserInfo:function(){var e=this,t=o.a.getJSON(),s={companyId:t.companyId};this.userType=t.userType,n.e.getUserInfo(s).then(function(t){e.userInfo=t.obj;var s=a()({},t.obj),i="";e.info=s,i=1==s.type?"服务商":2==s.type?"一级代理":3==s.type?"二级代理":4==s.type?"三级代理":-1==s.type?"超级服务商":"普通",e.info.type=i,e.secondInfoList.forEach(function(t){"手机"===t.name&&e.$set(t,"value",s.phone),"加入时间"===t.name&&e.$set(t,"value",s.createTime),"抽佣比例"===t.name&&e.$set(t,"value",100*s.payProrata+"%")})})},editPay:function(){this.editMessage=!0},cancelEdit:function(){this.editMessage=!1},submitPay:function(){var e=this;n.e.addAlipay(this.userId,this.name,this.aliAccountNumber).then(function(t){e.editMessage=!1,e.$toast.message(t.msg),e.getPay()},function(t){e.$toast.error(t.msg)})},getPay:function(){var e=this;n.e.getAlipay(this.userId).then(function(t){e.name=t.obj.aliName,e.aliAccountNumber=t.obj.aliAccountNumber,""!=e.name&&""!=e.aliAccountNumber&&(e.isName=!0)},function(t){e.$toast.error(t.msg)})},loginOut:function(){var e=this;this.$confirm("确定退出登录","提示").then(function(t){t.result&&(o.f.remove(),o.a.remove(),sessionStorage.clear(),e.$router.push({name:c.p}))})},resetPsw:function(){this.$router.push({name:c.t})}}},l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"frame-container mine-page"},[s("div",{staticClass:"mime-info-first"},[s("div",{staticClass:"vm-bg-img"}),e._v(" "),s("div",{staticClass:"info-message-box"},[s("span",{staticClass:"name"},[e._v(e._s(e.info.name))]),e._v(" "),s("span",{staticClass:"tel"},[e._v(e._s(e.info.phone))]),e._v(" "),s("span",{staticClass:"tage"},[e._v(e._s(e.info.type))]),e._v(" "),s("span",{staticClass:"edit-password",on:{click:e.resetPsw}},[s("i",{staticClass:"el-icon-edit"}),e._v("修改密码\n      ")])])]),e._v(" "),s("div",{staticClass:"mime-info-second"},[s("ul",[s("li",{staticClass:"clearfix"},[s("p",{staticClass:"fl"},[e._v("加入时间")]),e._v(" "),s("p",{staticClass:"fr time"},[e._v(e._s(e.info.createTime))])]),e._v(" "),s("li",{staticClass:"clearfix"},[s("p",{staticClass:"fl"},[e._v("提现到支付宝")]),e._v(" "),e.isName?s("p",{staticClass:"fr genxin"},[e._v("\n          "+e._s(e.name)+"\n          "),s("i",{staticClass:"el-icon-arrow-right",on:{click:e.editPay}})]):s("p",{staticClass:"fr"},[e._v("\n          请完善支付宝信息\n          "),s("i",{staticClass:"el-icon-arrow-right",on:{click:e.editPay}})])])])]),e._v(" "),s("div",{staticClass:"out-login"},[s("el-button",{attrs:{icon:"icon-other-tuichu",type:"primary"},on:{click:e.loginOut}},[e._v("退出登录")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.editMessage,expression:"editMessage"}],staticClass:"shade"}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.editMessage,expression:"editMessage"}],staticClass:"edit-pay-contain"},[s("p",{staticClass:"edit-title"},[e._v("支付宝信息")]),e._v(" "),s("el-form",{staticClass:"edit-from",attrs:{"label-position":"right","label-width":"60px"}},[s("el-form-item",{attrs:{label:"姓名:"}},[s("el-input",{attrs:{placeholder:"请填写真实姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"支付宝:"}},[s("el-input",{attrs:{placeholder:"请填写支付宝账号"},model:{value:e.aliAccountNumber,callback:function(t){e.aliAccountNumber=t},expression:"aliAccountNumber"}})],1),e._v(" "),s("el-form-item",{staticClass:"mg0"},[s("el-button",{on:{click:e.cancelEdit}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.submitPay}},[e._v("确定")])],1)],1)],1)])};l._withStripped=!0;var u={render:l,staticRenderFns:[]},m=u;var f=!1;var p=s("VU/8")(r,m,!1,function(e){f||s("1Pwr")},"data-v-28ba7e27",null);p.options.__file="src\\pages\\mine\\index.vue";t.default=p.exports},"1Pwr":function(e,t,s){var i=s("Rfnr");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s("rjj0")("6284cb5f",i,!1,{})},Rfnr:function(e,t,s){(e.exports=s("FZ+f")(!0)).push([e.i,"\n.genxin[data-v-28ba7e27] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}","",{version:3,sources:["E:/_fzyXm/agentApp/src/pages/mine/index.vue"],names:[],mappings:";AAAA;EACE,qBAAc;EAAd,qBAAc;EAAd,cAAc;EACd,0BAA+B;MAA/B,uBAA+B;UAA/B,+BAA+B;EAC/B,0BAAoB;MAApB,uBAAoB;UAApB,oBAAoB;CACrB",file:"index.vue",sourcesContent:[".genxin {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=18.70d51a989da5e13bc1f0.js.map