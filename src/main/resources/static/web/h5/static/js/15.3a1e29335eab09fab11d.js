webpackJsonp([15],{"1EAu":function(t,e,a){var i=a("iWoD");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("75bb0935",i,!1,{})},"UkG/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("gyMJ"),s=a("OKQQ"),n=a("VuIw"),o={data:function(){return{isActive:1,companyId:"",userType:"",levelAlias:{},startTime:"",endTime:"",dataList:"",dealList:"",type:1,mapList:"",payList:[],rankList:[],payPriceType:0,noData:!1}},created:function(){this.startTime=this.getDay(-30),this.endTime=this.getDay(0);var t=n.a.getJSON();this.levelAlias=t.levelAlias,this.companyId=t.companyId,this.userType=t.userType,this.getdeal(),this.getdataMap(),this.getpayProportion(),this.getranking()},methods:{getstartTime:function(t){console.log(t,"val"),this.startTime=t,this.getdataMap(),this.getdataMap2(),this.getpayProportion(),this.getdeal()},getendTime:function(t){console.log(t,"val"),this.getdataMap(),this.getdataMap2(),this.getpayProportion(),this.getdeal()},cheackAll:function(){this.$router.push({name:s.u})},goback:function(){this.$router.back(-1)},getranking:function(){var t=this;i.d.ranking(this.companyId,this.startTime,this.endTime,this.payPriceType).then(function(e){t.rankList=e.obj},function(e){t.$toast.error(e.msg)})},getpayProportion:function(){var t=this;i.d.payProportion(this.companyId,this.startTime,this.endTime,this.type).then(function(e){var a=e.obj;a||(t.noData2=!0),t.payList=[{value:0,name:""}],a.forEach(function(e){t.payList.push({value:e.payMoney,name:e.payName})}),console.log(t.payList,"payList"),t.drawLine2()},function(e){t.$toast.error(e.msg)})},getdataMap:function(){var t=this;i.d.dataMap(this.companyId,this.startTime,this.endTime,this.type).then(function(e){e.obj?t.drawLine():(t.noData=!0,t.mapList={num:["0"],xdata:[""],ydata:["0"]},console.log(t.mapList,"mapList"),t.drawLine())},function(e){t.$toast.error(e.msg)})},getdataMap2:function(){var t=this;i.d.dataMap2(this.companyId,this.startTime,this.endTime,this.type).then(function(e){t.mapList=e.obj,2===t.isActive&&t.drawLine()},function(e){t.$toast.error(e.msg)})},changeStatus:function(t){this.isActive=t,1===this.isActive?this.getdataMap():this.getdataMap2()},changeStatus2:function(t){this.type=t,this.getpayProportion()},getDay:function(t){var e=new Date,a=e.getTime()+864e5*t;e.setTime(a);var i=e.getFullYear(),s=e.getMonth(),n=e.getDate(),o=e.getHours(),c=e.getMinutes(),l=e.getSeconds();return i+"-"+(s=this.doHandleMonth(s+1))+"-"+(n=this.doHandleMonth(n))+" "+o+":"+c+":"+l},doHandleMonth:function(t){var e=t;return 1==t.toString().length&&(e="0"+t),e},getdeal:function(){var t=this;i.d.dataTransaction(this.companyId,this.startTime,this.endTime).then(function(e){t.dealList=e.obj},function(e){t.$toast.error(e.msg)})},drawLine:function(){this.$echarts.init(document.getElementById("myChartLine")).setOption({xAxis:{type:"category",data:this.mapList.xdata},yAxis:{type:"value",show:!0,data:this.mapList.ydata},series:[{data:this.mapList.num,type:"line"}],color:"#4ba8ff"})},drawLine2:function(){this.$echarts.init(document.getElementById("myChart")).setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",color:"#000",textStyle:{color:"black"}},series:[{name:"访问来源",type:"pie",radius:["30%","40%"],avoidLabelOverlap:!1,color:["#D1FBEF","#F9D858","#4CD0DD","#DF86F0","#F5A7C1"],label:{normal:{show:!0,position:"left"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:this.payList}]})}}},c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"frame-container",staticStyle:{background:"#eee"}},[a("div",{staticClass:"vm-padding-height page-home-head"},[a("div",{staticClass:"vm-postion-box"},[a("div",{staticClass:"flex tradeTitle"},[a("p",{on:{click:t.goback}},[a("i",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"16px"}})]),t._v(" "),a("p",{staticStyle:{"font-weight":"600"}},[t._v("交易数据")]),t._v(" "),a("p")]),t._v(" "),a("div",{staticClass:"dataOverview",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"label flex",staticStyle:{padding:"10px"}},[a("span",{staticClass:"border_lan"},[t._v("交易数据")]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center"}},[a("el-date-picker",{staticStyle:{width:"45%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"date",placeholder:"开始时间"},on:{change:t.getstartTime},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),t._v(" "),a("span",[t._v("-")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"45%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"date",placeholder:"结束时间"},on:{change:t.getendTime},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),t._v(" "),a("div",{staticClass:"flex",staticStyle:{padding:"10px 20px"}},[a("div",{staticClass:"content"},[a("p",[t._v("交易笔数")]),t._v(" "),a("p",[a("span",{staticClass:"heise"},[t._v(t._s(t.dealList.transactionCount))])])]),t._v(" "),a("div",{staticClass:"content"},[a("p",[t._v("交易总额")]),t._v(" "),a("p",[t._v("\n              ￥\n              "),a("span",{staticClass:"lanse"},[t._v(t._s(t.dealList.transactionMoney))])])]),t._v(" "),a("div",{staticClass:"content"},[a("p",[t._v("佣金总额")]),t._v(" "),a("p",[t._v("\n              ￥\n              "),a("span",{staticClass:"heise"},[t._v(t._s(t.dealList.commissionMoney))])])])]),t._v(" "),a("div",{staticClass:"flex",staticStyle:{padding:"10px 20px","border-bottom":"1px dashed #E3E3E3"}},[a("div",{staticClass:"content"},[a("p",[t._v("退款笔数")]),t._v(" "),a("p",[a("span",{staticClass:"heise"},[t._v(t._s(t.dealList.refundCount))])])]),t._v(" "),a("div",{staticClass:"content"},[a("p",[t._v("退款金额")]),t._v(" "),a("p",[t._v("\n              ￥\n              "),a("span",{staticClass:"heise"},[t._v(t._s(t.dealList.refundMoney))])])]),t._v(" "),a("div",{staticClass:"content"},[a("p",[t._v("营收总额")]),t._v(" "),a("p",[t._v("\n              ￥\n              "),a("span",{staticClass:"lanse"},[t._v(t._s(t.dealList.actualMoney))])])])]),t._v(" "),a("div",{staticClass:"home-container-echart",staticStyle:{"border-bottom":"1px dashed #E3E3E3"}},[a("div",{staticClass:"echart-title"},[t._m(0),t._v(" "),a("div",{staticClass:"home-echat-btn"},[a("div",{staticClass:"vm-flex"},[a("div",{class:{active:1==t.isActive},on:{click:function(e){t.changeStatus(1)}}},[t._v("销售总额")]),t._v(" "),a("div",{class:{active:2==t.isActive},on:{click:function(e){t.changeStatus(2)}}},[t._v("我的佣金")])])])]),t._v(" "),a("div",{style:{width:"100%",height:"300px"},attrs:{id:"myChartLine"}}),t._v(" "),t.noData&&1==t.isActive?a("p",{staticStyle:{color:"#ccc","font-size":"10px","padding-bottom":"20px"}},[a("i",{staticClass:"el-icon-warning"}),t._v("暂无数据\n          ")]):t._e()]),t._v(" "),a("div",{staticClass:"home-container-echart",staticStyle:{"border-bottom":"1px dashed #E3E3E3"}},[a("div",{staticClass:"echart-title"},[t._m(1),t._v(" "),a("div",{staticClass:"home-echat-btn"},[a("div",{staticClass:"vm-flex"},[a("div",{class:{active:1==t.type},on:{click:function(e){t.changeStatus2(1)}}},[t._v("销售总额")]),t._v(" "),a("div",{class:{active:2==t.type},on:{click:function(e){t.changeStatus2(2)}}},[t._v("交易笔数")])])])]),t._v(" "),a("div",{style:{width:"100%",height:"300px"},attrs:{id:"myChart"}})]),t._v(" "),a("div",{staticClass:"home-container-echart",staticStyle:{height:"100%","padding-bottom":"10px"}},[t._m(2),t._v(" "),a("ul",{staticClass:"rankingUrl",staticStyle:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"3",overflow:"hidden"}},t._l(t.rankList,function(e,i){return a("li",{key:i},[a("p",{staticClass:"rank_label"},[t._v(t._s(e.storeName))]),t._v(" "),a("div",{staticClass:"flex"},[a("p",[1===e.companyType?a("span",[t._v("#我的")]):t._e(),t._v(" "),2===e.companyType?a("span",[t._v("#一级代理")]):t._e(),t._v(" "),3===e.companyType?a("span",[t._v("#二级代理")]):t._e(),t._v(" "),4===e.companyType?a("span",[t._v("#三级代理")]):t._e(),t._v(" "),a("span",[t._v("业务员："+t._s(e.companyName))])]),t._v(" "),a("p",{staticClass:"money"},[t._v("￥"+t._s(e.countPayPrice))])])])})),t._v(" "),t.rankList?a("p",{staticStyle:{color:"#2A8FC6","margin-top":"10px"},on:{click:t.cheackAll}},[t._v("查看全部")]):a("p",{staticStyle:{margin:"30px 0",color:"#ccc","font-size":"10px"}},[a("i",{staticClass:"el-icon-warning"}),t._v("暂无数据\n            ")])])])])])])};c._withStripped=!0;var l={render:c,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"border-left":"1px solid #424242","text-align":"left","padding-left":"5px"}},[e("p",[this._v("数据趋势图")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"border-left":"1px solid #424242","text-align":"left","padding-left":"5px"}},[e("p",[this._v("支付通道占比")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"echart-title"},[e("div",{staticStyle:{"border-left":"1px solid #424242","text-align":"left","padding-left":"5px"}},[e("p",[this._v("商家营收排行榜")])])])}]},r=l;var d=!1;var p=a("VU/8")(o,r,!1,function(t){d||a("1EAu")},"data-v-55ed22f6",null);p.options.__file="src\\pages\\tradeData\\index.vue";e.default=p.exports},iWoD:function(t,e,a){(t.exports=a("FZ+f")(!0)).push([t.i,"\n.tradeTitle[data-v-55ed22f6] {\n  padding: 0.266667rem;\n  background: #fff;\n  height: 1.066667rem;\n}","",{version:3,sources:["E:/_fzyXm/agentApp/src/pages/tradeData/index.vue"],names:[],mappings:";AAAA;EACE,qBAAqB;EACrB,iBAAiB;EACjB,oBAAoB;CACrB",file:"index.vue",sourcesContent:[".tradeTitle {\n  padding: 0.266667rem;\n  background: #fff;\n  height: 1.066667rem;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=15.3a1e29335eab09fab11d.js.map