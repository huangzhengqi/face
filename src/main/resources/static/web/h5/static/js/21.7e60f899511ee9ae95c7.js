webpackJsonp([21],{FP3a:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("gyMJ"),e=s("OKQQ"),n=s("VuIw"),o={data:function(){return{isActive:1,companyId:"",userType:"",levelAlias:{},startTime:"",endTime:"",dataList:"",dealList:"",type:1,mapList:{},payList:[],rankList:[],payPriceType:0,noData:!1,noData2:!1}},created:function(){this.startTime=this.getDay(-30),this.endTime=this.getDay(0);var t=n.a.getJSON();this.levelAlias=t.levelAlias,this.companyId=t.companyId,this.userType=t.userType,this.getcount_data()},methods:{getcount_data:function(){var t=this;i.d.count_data(this.companyId,this.startTime,this.endTime,this.type).then(function(a){t.getData(),t.getdeal(),t.getdataMap(),t.getpayProportion(),t.getranking()},function(a){t.$toast.error(a.msg)})},to_myMerchant:function(){this.$router.push({name:e.s,query:{hometype:this.dataList.type}})},cheackAll:function(){this.$router.push({name:e.u})},toCommissionRecord:function(){this.$router.push({name:e.n})},to_tradeData:function(){this.$router.push({name:e.y})},getranking:function(){var t=this;i.d.ranking(this.companyId,this.startTime,this.endTime,this.payPriceType).then(function(a){t.rankList=a.obj},function(a){t.$toast.error(a.msg)})},getpayProportion:function(){var t=this;i.d.payProportion(this.companyId,this.startTime,this.endTime,this.type).then(function(a){var s=a.obj;console.log(s,"param"),s||(t.noData2=!0),t.payList=[{value:0,name:""}],s.forEach(function(a){t.payList.push({value:a.payMoney,name:a.payName})}),t.drawLine2()},function(a){t.$toast.error(a.msg)})},getdataMap:function(){var t=this;i.d.dataMap(this.companyId,this.startTime,this.endTime,this.type).then(function(a){t.mapList=a.obj,a.obj?t.drawLine():(t.noData=!0,t.mapList={num:["0"],xdata:[""],ydata:["0"]},console.log(t.mapList,"mapList"),t.drawLine())},function(a){t.$toast.error(a.msg)})},getdataMap2:function(){var t=this;i.d.dataMap2(this.companyId,this.startTime,this.endTime,this.type).then(function(a){t.mapList=a.obj,2===t.isActive&&t.drawLine()},function(a){t.$toast.error(a.msg)})},changeStatus:function(t){this.isActive=t,1===this.isActive?this.getdataMap():this.getdataMap2()},changeStatus2:function(t){this.type=t,this.getpayProportion()},getDay:function(t){var a=new Date,s=a.getTime()+864e5*t;a.setTime(s);var i=a.getFullYear(),e=a.getMonth(),n=a.getDate(),o=a.getHours(),c=a.getMinutes(),l=a.getSeconds();return i+"-"+(e=this.doHandleMonth(e+1))+"-"+(n=this.doHandleMonth(n))+" "+o+":"+c+":"+l},doHandleMonth:function(t){var a=t;return 1==t.toString().length&&(a="0"+t),a},getdeal:function(){var t=this;i.d.dataTransaction(this.companyId,this.startTime,this.endTime).then(function(a){t.dealList=a.obj},function(a){t.$toast.error(a.msg)})},getData:function(){var t=this;i.d.dataView(this.companyId).then(function(a){t.dataList=a.obj,console.log(t.dataList,"dataList")},function(a){t.$toast.error(a.msg)})},drawLine:function(){this.$echarts.init(document.getElementById("myChartLine")).setOption({xAxis:{type:"category",data:this.mapList.xdata},yAxis:{type:"value",show:!0,data:this.mapList.ydata},series:[{data:this.mapList.num,type:"line"}],color:"#4ba8ff"})},drawLine2:function(){this.$echarts.init(document.getElementById("myChart")).setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",color:"#000",textStyle:{color:"black"}},series:[{name:"访问来源",type:"pie",radius:["30%","40%"],avoidLabelOverlap:!1,color:["#D1FBEF","#F9D858","#4CD0DD","#DF86F0","#F5A7C1"],label:{normal:{show:!0,position:"left"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:this.payList}]})}}},c=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"frame-container",staticStyle:{background:"#eee"}},[s("div",{staticClass:"vm-padding-height page-home-head"},[s("div",{staticClass:"vm-postion-box"},[s("p",{staticClass:"lansebg"}),t._v(" "),s("div",{staticClass:"dataOverview",staticStyle:{"margin-top":"-40px"}},[s("p",{staticClass:"label"},[s("span",{staticClass:"border_lan"},[t._v("数据总览")]),t._v(" "),s("span",[s("el-tooltip",{attrs:{placement:"top"}},[s("div",{staticClass:"text",attrs:{slot:"content"},slot:"content"},[s("p",[t._v("销售金额=交易金额-退款金额")]),t._v(" "),s("p",[t._v("交易金额：所有商户的交易流水总额")]),t._v(" "),s("p",[t._v("销售金额：所有商户的实际营收总额")]),t._v(" "),s("p",[t._v("佣金金额：所有商户有效交易中抽取的佣金总额")])]),t._v(" "),s("i",{staticClass:"el-icon-question"})])],1)]),t._v(" "),s("div",{staticClass:"flex data",staticStyle:{"border-bottom":"1px dashed #E3E3E3"}},[s("div",{staticClass:"content"},[s("p",[t._v("\n              销售总额\n              "),s("el-tooltip",{attrs:{placement:"top"}},[s("div",{staticClass:"text",attrs:{slot:"content"},slot:"content"},[s("p",[t._v("交易笔数："+t._s(t.dataList.transactionCount))]),t._v(" "),s("p",[t._v("交易金额:"+t._s(t.dataList.transactionMoney))]),t._v(" "),s("p",[t._v("退款笔数："+t._s(t.dataList.refundCount))]),t._v(" "),s("p",[t._v("退款金额："+t._s(t.dataList.refundMoney))])]),t._v(" "),s("i",{staticClass:"el-icon-arrow-down"})])],1),t._v(" "),s("p",[t._v("\n              ￥\n              "),s("span",{staticClass:"lanse"},[t._v(t._s(t.dataList.transactionMoney))])])]),t._v(" "),s("div",{staticClass:"content"},[s("p",[t._v("佣金总额")]),t._v(" "),s("p",[t._v("\n              ￥\n              "),s("span",{staticClass:"heise"},[t._v(t._s(t.dataList.commissionMoney))])])]),t._v(" "),s("div",{staticClass:"content",on:{click:t.toCommissionRecord}},[s("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),s("div",{staticClass:"flex data"},[4!=t.dataList.type?s("div",{staticClass:"content"},[s("p",[s("span",[t._v("代理总数")]),t._v(" "),s("el-tooltip",{attrs:{placement:"bottom"}},[s("div",{staticClass:"text",attrs:{slot:"content"},slot:"content"},[s("p",[t._v("一级代理："+t._s(t.dataList.firstAgentNum))]),t._v(" "),s("p",[t._v("二级代理："+t._s(t.dataList.secondAgentNum))]),t._v(" "),s("p",[t._v("三级代理："+t._s(t.dataList.thirdAgentNum))])]),t._v(" "),s("i",{staticClass:"el-icon-arrow-down"})])],1),t._v(" "),s("p",[s("span",{staticClass:"heise"},[t._v(t._s(t.dataList.countAgentNum))])])]):s("div",[t._m(0),t._v(" "),s("p",[s("span",{staticClass:"heise"},[t._v(t._s(t.dataList.salesmanNum))])])]),t._v(" "),s("div",{staticClass:"content"},[s("p",[t._v("商户总数")]),t._v(" "),s("p",[s("span",{staticClass:"heise"},[t._v(t._s(t.dataList.merchantNum))])])]),t._v(" "),s("div",{staticClass:"content",on:{click:t.to_myMerchant}},[s("i",{staticClass:"el-icon-arrow-right"})])])]),t._v(" "),s("div",{staticClass:"dataOverview",staticStyle:{"margin-top":"10px"}},[s("div",{staticClass:"label flex"},[s("span",{staticClass:"border_lan"},[t._v("交易数据")]),t._v(" "),s("p",[s("span",{staticStyle:{color:"#8A8A8A","font-size":"12px"}},[t._v("近30天("+t._s(t.startTime.split(" ")[0])+"至"+t._s(t.endTime.split(" ")[0])+")")]),t._v(" "),s("span",{staticStyle:{color:"#2A8FC6","font-size":"12px"},on:{click:t.to_tradeData}},[t._v("\n              更多\n              "),s("i",{staticClass:"el-icon-arrow-right more"})])])]),t._v(" "),s("div",{staticClass:"flex",staticStyle:{padding:"10px 20px"}},[s("div",{staticClass:"content"},[s("p",[t._v("交易笔数")]),t._v(" "),s("p",[s("span",{staticClass:"heise"},[t._v(t._s(t.dealList.transactionCount))])])]),t._v(" "),s("div",{staticClass:"content"},[s("p",[t._v("交易总额")]),t._v(" "),s("p",[t._v("\n              ￥\n              "),s("span",{staticClass:"lanse"},[t._v(t._s(t.dealList.transactionMoney))])])]),t._v(" "),s("div",{staticClass:"content"},[s("p",[t._v("佣金总额")]),t._v(" "),s("p",[t._v("\n              ￥\n              "),s("span",{staticClass:"heise"},[t._v(t._s(t.dealList.commissionMoney))])])])]),t._v(" "),s("div",{staticClass:"flex",staticStyle:{padding:"10px 20px","border-bottom":"1px dashed #E3E3E3"}},[s("div",{staticClass:"content"},[s("p",[t._v("退款笔数")]),t._v(" "),s("p",[s("span",{staticClass:"heise"},[t._v(t._s(t.dealList.refundCount))])])]),t._v(" "),s("div",{staticClass:"content"},[s("p",[t._v("退款金额")]),t._v(" "),s("p",[t._v("\n              ￥\n              "),s("span",{staticClass:"heise"},[t._v(t._s(t.dealList.refundMoney))])])]),t._v(" "),s("div",{staticClass:"content"},[s("p",[t._v("营收总额")]),t._v(" "),s("p",[t._v("\n              ￥\n              "),s("span",{staticClass:"lanse"},[t._v(t._s(t.dealList.actualMoney))])])])]),t._v(" "),s("div",{staticClass:"home-container-echart",staticStyle:{"border-bottom":"1px dashed #E3E3E3",position:"relative"}},[s("div",{staticClass:"echart-title"},[t._m(1),t._v(" "),s("div",{staticClass:"home-echat-btn"},[s("div",{staticClass:"vm-flex"},[s("div",{class:{active:1==t.isActive},on:{click:function(a){t.changeStatus(1)}}},[t._v("销售总额")]),t._v(" "),s("div",{class:{active:2==t.isActive},on:{click:function(a){t.changeStatus(2)}}},[t._v("我的佣金")])])])]),t._v(" "),s("div",{style:{width:"100%",height:"300px"},attrs:{id:"myChartLine"}}),t._v(" "),t.noData&&1==t.isActive?s("p",{staticStyle:{color:"#ccc","font-size":"10px","padding-bottom":"20px"}},[s("i",{staticClass:"el-icon-warning"}),t._v("暂无数据\n          ")]):t._e()]),t._v(" "),s("div",{staticClass:"home-container-echart",staticStyle:{"border-bottom":"1px dashed #E3E3E3"}},[s("div",{staticClass:"echart-title"},[t._m(2),t._v(" "),s("div",{staticClass:"home-echat-btn"},[s("div",{staticClass:"vm-flex"},[s("div",{class:{active:1==t.type},on:{click:function(a){t.changeStatus2(1)}}},[t._v("销售总额")]),t._v(" "),s("div",{class:{active:2==t.type},on:{click:function(a){t.changeStatus2(2)}}},[t._v("交易笔数")])])])]),t._v(" "),s("div",{style:{width:"100%",height:"300px"},attrs:{id:"myChart"}})]),t._v(" "),s("div",{staticClass:"home-container-echart",staticStyle:{height:"100%","padding-bottom":"60px"}},[t._m(3),t._v(" "),s("ul",{staticClass:"rankingUrl",staticStyle:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"3",overflow:"hidden"}},t._l(t.rankList,function(a,i){return s("li",{key:i},[s("p",{staticClass:"rank_label"},[t._v(t._s(a.storeName))]),t._v(" "),s("div",{staticClass:"flex"},[s("p",[1===a.companyType?s("span",[t._v("#我的")]):t._e(),t._v(" "),2===a.companyType?s("span",[t._v("#一级代理")]):t._e(),t._v(" "),3===a.companyType?s("span",[t._v("#二级代理")]):t._e(),t._v(" "),4===a.companyType?s("span",[t._v("#三级代理")]):t._e(),t._v(" "),s("span",[t._v("业务员："+t._s(a.companyName))])]),t._v(" "),s("p",{staticClass:"money"},[t._v("￥"+t._s(a.countPayPrice))])])])})),t._v(" "),t.rankList?s("p",{staticStyle:{color:"#2A8FC6","margin-top":"10px"},on:{click:t.cheackAll}},[t._v("查看全部")]):s("p",{staticStyle:{margin:"30px 0",color:"#ccc","font-size":"10px"}},[s("i",{staticClass:"el-icon-warning"}),t._v("暂无数据\n          ")])])])])])])};c._withStripped=!0;var l={render:c,staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("span",[this._v("业务员数")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticStyle:{"border-left":"1px solid #424242","text-align":"left","padding-left":"5px"}},[a("p",[this._v("数据趋势图")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticStyle:{"border-left":"1px solid #424242","text-align":"left","padding-left":"5px"}},[a("p",[this._v("支付通道占比")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"echart-title"},[a("div",{staticStyle:{"border-left":"1px solid #424242","text-align":"left","padding-left":"5px"}},[a("p",[this._v("商家营收排行榜")])])])}]},r=l;var v=s("VU/8")(o,r,!1,null,null,null);v.options.__file="src\\pages\\home\\index.vue";a.default=v.exports}});
//# sourceMappingURL=21.7e60f899511ee9ae95c7.js.map