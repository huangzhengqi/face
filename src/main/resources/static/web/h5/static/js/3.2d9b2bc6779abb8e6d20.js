webpackJsonp([3],{"9Uwh":function(t,e,i){"use strict";var a=i("OKQQ"),s={props:{list:{type:Array,defaul:function(){return[]}}},components:{},data:function(){return{}},created:function(){this.getList()},methods:{detailClick:function(t){this.$router.push({name:a.f,query:{id:t.id}})},getList:function(){}}},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"agencyOrClient-container"},[a("ul",{staticClass:"vm-list"},t._l(t.list,function(e,s){return a("li",{key:"list_"+s,staticClass:"vm-item between-flex",on:{click:function(i){t.detailClick(e)}}},[a("div",{staticClass:"item-left"},[a("p",{staticClass:"item-left-1"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"item-left-2"},[t._v(t._s(e.phone))])]),t._v(" "),a("div",{staticClass:"item-right center-flex"},[a("p",[1===e.status?[t._v("已签约")]:2===e.status?[t._v("未签约")]:t._e()],2),t._v(" "),a("img",{attrs:{src:i("OjnJ"),alt:""}})])])}))])])};n._withStripped=!0;var l={render:n,staticRenderFns:[]},r=l;var c=i("VU/8")(s,r,!1,null,null,null);c.options.__file="src\\pages\\agencyOrClient\\components\\clientList.vue";e.a=c.exports},HgI3:function(t,e,i){var a=i("rdU4");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("5342e9d4",a,!1,{})},OjnJ:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAcCAYAAABoMT8aAAABI0lEQVRIS73VvUrEQBAH8P9A8jxpUqVLm0MULHwBxcZKDis7KxGxsBAfwNrKRgvv6uzkQdIGEVdhZCUrMbfJbbLglAvz2539mCVmvhGREwAPTdMc5nn+hQlBSqlPAFGb8wjgIE1TM+YVVJblLRGZFdiYhJCIEDPfAziag5BJGkCe6rreL4riY6yWH8AiVVXdichxJ2Er8gvYJMeejCIbgIEcyLPWei/Lsvd+OU5gAHnRWu/2kUHAIEqpawCnnVk3kFGgRa4ALDvIaxzHO0mSvJmxrYALIaJ1FEULg3gBBmHmSxE5syuxiDfQruQCwHmnnNX/AUElKKX+nMSkTewnA/A/xqCL5HgP/lc56DHNfs6mK81uKEEtLbipBrf14I8l9Gv7BuSV71+TOBKrAAAAAElFTkSuQmCC"},YlCi:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("gyMJ"),s=i("OKQQ"),n=i("iam7"),l=i("1Nns"),r={props:{list:{type:Array,defaul:function(){return[]}}},components:{},data:function(){return{}},created:function(){this.getList()},methods:{detailClick:function(t){this.$router.push({name:s.c,query:{id:t.id,isDirect:t.isDirect}})},getList:function(){}}},c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"agencyOrClient-container"},[a("ul",{staticClass:"vm-list"},t._l(t.list,function(e,s){return a("li",{key:"list_"+s,staticClass:"vm-item between-flex",on:{click:function(i){t.detailClick(e)}}},[a("div",{staticClass:"item-left"},[a("p",{staticClass:"item-left-1"},[t._v("联系人："+t._s(e.contact))]),t._v(" "),a("p",{staticClass:"item-left-1"},[t._v("类型："+t._s(e.name))]),t._v(" "),a("p",{staticClass:"item-left-2"},[t._v(t._s(e.phone))])]),t._v(" "),a("div",{staticClass:"item-right center-flex vm-font-color-9"},[a("p",[1===e.status?[t._v("未签约")]:2===e.status?[a("span",{staticClass:"vm-font-color-yellow"},[t._v("待审核")])]:3===e.status?[a("span",{staticClass:"vm-font-color-blue"},[t._v("已签约")])]:4===e.status?[t._v("过期")]:5===e.status?[t._v("禁用")]:6===e.status?[t._v("驳回")]:t._e()],2),t._v(" "),a("img",{attrs:{src:i("OjnJ"),alt:""}})])])}))])])};c._withStripped=!0;var o={render:c,staticRenderFns:[]},m=o;var u=!1;var h=i("VU/8")(r,m,!1,function(t){u||i("HgI3")},"data-v-7be2657e",null);h.options.__file="src\\pages\\agencyOrClient\\components\\agencyList.vue";var v=h.exports,g=i("9Uwh"),f=i("VuIw"),d={components:{AgencyList:v,ClientList:g.a,FzyTabs:n.a,FzyNoData:l.a},data:function(){return{active:"一级代理",tabList:[{name:"全部",value:""},{name:"未签约",value:1},{name:"待审核",value:2},{name:"已签约",value:3},{name:"禁用",value:5},{name:"过期",value:4}],agentTabList:[{name:"全部",value:""},{name:"未签约",value:1},{name:"待审核",value:2},{name:"已签约",value:3},{name:"驳回",value:6},{name:"禁用",value:5},{name:"过期",value:4}],clientTabList:[{name:"全部",value:""},{name:"已签约",value:1},{name:"未签约",value:2}],btnList:[{name:"代理",color:"primary",textColor:"white"},{name:"商户",color:"white",textColor:"primary"}],refreshing:!1,loading:!1,loadedAll:!1,agentParams:{pageNumber:1,pageSize:10,status:""},agentTotal:0,agetList:[],clientParams:{pageNumber:1,pageSize:20,companyId:f.a.getJSON().companyId,userType:f.a.getJSON().userType},clientTotal:0,clientList:[],levelAlias:{oemName:"",firstName:"",secondName:"",thirdName:""}}},watch:{active:function(t){if("一级代理"===t||"商户"===t)this.tabList=this.tabList.filter(function(t){return"驳回"!==t.name});else if(this.tabList.every(function(t){return"驳回"!==t.name})){this.tabList.splice(4,0,{name:"驳回",value:6})}}},created:function(){this.levelAlias=f.a.getJSON().levelAlias,console.log(this.levelAlias,"this.levelAlias"),1===this.clientParams.userType?(this.active="一级代理",this.btnList=[{name:"一级代理",color:"primary",textColor:"white",aliasName:this.levelAlias.firstName},{name:"二级代理",color:"white",textColor:"primary",aliasName:this.levelAlias.secondName},{name:"三级代理",color:"white",textColor:"primary",aliasName:this.levelAlias.thirdName},{name:"商户",color:"white",textColor:"primary"}]):2===this.clientParams.userType?(this.active="二级代理",this.btnList=[{name:"二级代理",color:"primary",textColor:"white",aliasName:this.levelAlias.secondName},{name:"三级代理",color:"white",textColor:"primary",aliasName:this.levelAlias.thirdName},{name:"商户",color:"white",textColor:"primary"}]):3===this.clientParams.userType?(this.active="三级代理",this.btnList=[{name:"三级代理",color:"primary",textColor:"white",aliasName:this.levelAlias.thirdName},{name:"商户",color:"white",textColor:"primary"}]):4===this.clientParams.userType&&(this.active="商户",this.btnList=[{name:"商户",color:"primary",textColor:"white"}],this.getClientList()),this.getListApi()},methods:{getListApi:function(){var t=this,e="";"一级代理"===this.active?e=a.a.getOneAgentList(this.agentParams):"二级代理"===this.active?e=a.a.getAgentList(this.agentParams):"三级代理"===this.active&&(e=a.a.getTreeAgentList(this.agentParams)),e&&e.then(function(e){t.agentTotal=e.obj.totalElements,t.agetList=t.agetList.concat(e.obj.content),t.agetList.length<t.agentTotal?t.loadedAll=!1:t.loadedAll=!0,t.refreshingStatus(!1),t.loadingStatus(!1)})},getClientList:function(){var t=this;this.refreshingStatus(!1);var e=f.a.getJSON().companyId,i={pageNumber:this.clientParams.pageNumber,pageSize:this.clientParams.pageSize,status:this.clientParams.status,companyId:e};a.a.getClientListNew(i).then(function(e){t.clientTotal=e.obj.totalElements,t.clientList=t.clientList.concat(e.obj.content),t.clientList.length<t.clientTotal?t.loadedAll=!1:t.loadedAll=!0,t.refreshingStatus(!1),t.loadingStatus(!1)})},refreshingStatus:function(t){this.refreshing=t},loadingStatus:function(t){this.loading=t},btnTabClick:function(t){this.active!==t.name&&(this.btnList.forEach(function(t){t.color="white",t.textColor="primary"}),t.color="primary",t.textColor="white",this.active=t.name,-1!==this.active.indexOf("代理")?(console.log(1),this.agentParams.status="",this.tabList=this.agentTabList):(console.log(2),this.clientParams.status="",this.tabList=this.clientTabList),this.refresh())},refresh:function(){this.$refs.container.scrollTop=0,this.loadedAll=!1,-1!==this.active.indexOf("代理")?(this.agentParams.pageNumber=1,this.agetList=[],this.agentTotal=0,this.getListApi()):(this.clientParams.pageNumber=1,this.clientList=[],this.clientTotal=0,this.getClientList()),this.$refs.container.scrollTop=0},load:function(){this.loadingStatus(!0),-1!==this.active.indexOf("代理")?(this.agentParams.pageNumber+=1,this.getListApi()):(console.log("加载更多"),this.clientParams.pageNumber+=1,this.getClientList())},changeAgentTab:function(t){this.agentParams.status=t,this.clientParams.status=t,this.refresh()},addAgencyClick:function(){-1!==this.active.indexOf("代理")?this.$router.push({name:s.d,query:{name:this.active}}):this.$router.push({name:s.g})}}},p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"frame-container",staticStyle:{background:"#fff"}},[i("div",{staticClass:"vm-page-head-fixed vm-height-83px"},[i("div",{staticClass:"vm-page-head--body vm-height-83px"},[i("div",{staticClass:"vm-page-head--body-title"},[t._m(0),t._v(" "),i("div",{staticClass:"vm-tabs"},[i("div",[i("div",{staticClass:"vm-tab-btns"},t._l(t.btnList,function(e,a){return i("div",{key:"btnList_"+a,staticClass:"vm-tab-btn",class:t.active===e.name?"active":"",on:{click:function(i){t.btnTabClick(e)}}},[t._v(t._s(e.aliasName||e.name))])}))])]),t._v(" "),i("el-button",{staticClass:"header-new",staticStyle:{"font-size":"14px"},attrs:{type:"primary",size:"mini"},on:{click:t.addAgencyClick}},[t._v("新增")])],1),t._v(" "),i("FzyTabs",{attrs:{active:t.active,tabList:t.tabList},on:{change:t.changeAgentTab}})],1)]),t._v(" "),i("mu-container",{ref:"container",staticClass:"demo-loadmore-content"},[i("mu-load-more",{ref:"container",attrs:{refreshing:t.refreshing,loading:t.loading,"loaded-all":t.loadedAll},on:{refresh:t.refresh,load:t.load}},[i("div",{staticClass:"vm-height-10px vm-bg-gray"}),t._v(" "),"一级代理"===t.active||"二级代理"===t.active||"三级代理"===t.active?i("AgencyList",{attrs:{list:t.agetList}}):t._e(),t._v(" "),"商户"===t.active?i("ClientList",{attrs:{list:t.clientList}}):t._e(),t._v(" "),("一级代理"!==t.active&&"二级代理"!==t.active&&"三级代理"!==t.active||t.agetList.length)&&("商户"!==t.active||t.clientList.length)?t._e():i("FzyNoData"),t._v(" "),i("div",{staticClass:"vm-height-49px"})],1)],1)],1)};p._withStripped=!0;var A={render:p,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"icon iconfont iconsearch",staticStyle:{opacity:"0",display:"none"}})])}]},C=A;var L=i("VU/8")(d,C,!1,null,null,null);L.options.__file="src\\pages\\agencyOrClient\\agency.vue";e.default=L.exports},iam7:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"vm-tabs-ul-scroll"},t._l(t.tabList,function(e,a){return i("div",{key:"tabList_"+a,staticClass:"vm-tabs-li",class:e.value===t.currActive?"active":"",style:{marginLeft:0==a?t.marginLeftVal:""}},[i("span",{on:{click:function(i){t.change(e.value)}}},[t._v(t._s(e.name))])])}))])};a._withStripped=!0;var s={render:a,staticRenderFns:[]},n=s;var l=i("VU/8")({props:["active","tabList"],data:function(){return{currActive:"",marginLeftVal:""}},watch:{active:function(t){-1!==t.indexOf("代理")?this.currActive="":this.currActive=t},tabList:function(t){this.currActive=t[0].value,this.countWidth()}},created:function(){this.countWidth()},methods:{countWidth:function(){3===this.tabList.length?this.marginLeftVal="20%":this.marginLeftVal=""},change:function(t){this.currActive!==t&&(this.currActive=t,this.$emit("change",t))}}},n,!1,null,null,null);l.options.__file="src\\components\\common\\fzyTabs.vue";e.a=l.exports},rdU4:function(t,e,i){(t.exports=i("FZ+f")(!0)).push([t.i,"\n.item-left-1[data-v-7be2657e] {\n  font-size: 0.32rem !important;\n}","",{version:3,sources:["E:/_fzyXm/agentApp/src/pages/agencyOrClient/components/agencyList.vue"],names:[],mappings:";AAAA;EACE,8BAA8B;CAC/B",file:"agencyList.vue",sourcesContent:[".item-left-1 {\n  font-size: 0.32rem !important;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=3.2d9b2bc6779abb8e6d20.js.map