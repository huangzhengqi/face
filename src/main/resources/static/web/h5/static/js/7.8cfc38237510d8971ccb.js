webpackJsonp([7],{"9KiP":function(e,n){e.exports=[{name:"个体户",value:"个体户",children:[{value:"719 ",name:"餐饮",children:null},{value:"719",name:"食品生鲜",children:null},{value:"719",name:"私立/民营医院/诊所",children:null},{value:"719",name:"保健器械/医疗器械/非处方药品 ",children:null},{value:"719",name:"游艺厅/KTV/网吧",children:null},{value:"719",name:"机票/机票代理",children:null},{value:"719",name:"宠物医院",children:null},{value:"719",name:"培训机构",children:null},{value:"719",name:"零售批发/生活娱乐/其他",children:null},{value:"720",name:"话费通讯",children:null},{value:"746",name:"门户论坛/网络广告及推广/软件开发/其他",children:null},{value:"746",name:"游戏",children:null},{value:"721",name:"加油",children:null}]},{name:"企业",value:"企业",children:[{value:"716 ",name:"餐饮",children:null},{value:"716 ",name:"食品生鲜",children:null},{value:"716 ",name:"电信运营商/宽带收费",children:null},{value:"716 ",name:"私立/民营医院/诊所",children:null},{value:"716 ",name:"保健器械/医疗器械/非处方药品",children:null},{value:"716 ",name:"游艺厅/KTV/网吧",children:null},{value:"716 ",name:"机票/机票代理",children:null},{value:"716 ",name:"宠物医院",children:null},{value:"716 ",name:"旅行社",children:null},{value:"716 ",name:"宗教组织",children:null},{value:"716 ",name:"房地产/房产中介",children:null},{value:"716 ",name:"共享服务",children:null},{value:"716 ",name:"文物经营/文物复制品销售",children:null},{value:"716 ",name:"拍卖典当",children:null},{value:"716 ",name:"培训机构",children:null},{value:"716 ",name:"零售批发/生活娱乐/网上商城/其他",children:null},{value:"715",name:"保险业务",children:null},{value:"714 ",name:"众筹",children:null},{value:"713 ",name:"财经/股票类资讯",children:null},{value:"728 ",name:"话费通讯",children:null},{value:"728 ",name:"婚介平台/就业信息平台/其他",children:null},{value:"711",name:"在线图书/视频/音乐/网络直播",children:null},{value:"711",name:"游戏",children:null},{value:"711",name:"门户论坛/网络广告及推广/软件开发/其他",children:null},{value:"717 ",name:"物流/快递",children:null},{value:"717 ",name:"加油",children:null},{value:"717 ",name:"民办中小学及幼儿园",children:null},{value:"730",name:"公共事业（水电煤气）",children:null},{value:"718",name:"信用还款",children:null},{value:"739",name:"民办大学及院校",children:null},{value:"725",name:"其他缴费",children:null},{value:"722",name:"公共事业（水电煤气）",children:null},{value:"723",name:"交通罚款",children:null},{value:"724",name:"公立医院",children:null},{value:"724",name:"公立学校",children:null},{value:"724",name:"挂号平台",children:null},{value:"727",name:"宗教组织",children:null},{value:"727",name:"机票/机票代理",children:null},{value:"727",name:"私立/民营医院/诊所",children:null},{value:"727",name:"咨询/娱乐票务/其他",children:null},{value:"738",name:"民办中小学及幼儿园",children:null},{value:"726",name:"民办大学及院校",children:null},{value:"726 ",name:"公益",children:null}]}]},bDCi:function(e,n,a){var i=a("oM44");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("13529e74",i,!1,{})},oM44:function(e,n,a){(e.exports=a("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"submitWx.vue",sourceRoot:""}])},tzCr:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,t=a("bOdI"),l=a.n(t),s=a("/vau"),c=a("OKQQ"),r=a("gyMJ"),o=a("VuIw"),u=a("5Ah4"),d=a("rWYZ"),v=a("9KiP"),h=a.n(v),m={components:{FzyCascaderTree:u.a},data:function(){return{isImagePreview:!1,openMenu:!1,detail:{},params:{companyId:o.a.getJSON().companyId,managerId:o.a.getJSON().userId,status:"1"},businessLevOneRules:[{validate:function(e){return!!e},message:""}],cascaderArr:[],cascaderTree:[],cooperationLevArr:[],cooperationLevTree:[]}},watch:{cooperationLevArr:function(e,n){e=e||[],this.params.businessLevOne=e[0]||"",this.params.businessLevTwo=e[1]||"",this.params.businessLevThree=e[2]||""},cascaderArr:function(e,n){e=e||[],this.params.province=e[0]||"",this.params.city=e[1]||"",this.params.area=e[2]||""}},filters:{loadImage:function(e){return e?s.b+"/fms/upload/resource/thumbnail/"+e:""},previewLoadImage:function(e){return e?s.b+"/fms/upload/resource/"+e:""}},created:function(){this.intiMerchantType(),this.id=JSON.parse(o.b.get()),this.id?(this.initDetail(),this.sourceData=Object(d.a)(),this.tmpSourceData=this.sourceData):this.$toast.error("详情数据丢失")},mounted:function(){},methods:(i={saveBtn:function(){var e=this;r.b.merchantAdd(this.detail).then(function(n){console.log(n),200===n.code?e.$toast.success(n.msg):e.$toast.info(n.msg)},function(n){e.$toast.success(n.msg)})},intiMerchantType:function(){var e=this.loopSet(h.a);this.cooperationLevTree=e},loopSet:function(e){var n=this;return e.forEach(function(e){return n.$set(e,"id",e.name),e.children&&e.children.length&&(e.children=n.loopSet(e.children)),e}),e},onBack:function(){this.$router.push({name:c.j})},submitBtn:function(){var e=this;console.log(111);var n={id:this.detail.id,specialQualificationPhotoId:this.detail.specialQualificationPhotoId,businessAdditionPics:this.detail.businessAdditionPics,settlementId:this.detail.settlementId,qualificationType:this.detail.qualificationType};r.b.wxInto(n).then(function(n){200===n.code&&(e.$toast.success("提交成功！请留意进件状态"),e.$router.push({name:c.j})),console.log(n)}),console.log(n)},initDetail:function(){this.detail=JSON.parse(o.c.get()),"SUBJECT_TYPE_INDIVIDUAL"==this.detail.subjectType?this.comTypeName="个体工商户":"SUBJECT_TYPE_ENTERPRISE"!=this.detail.subjectType||(this.comTypeName="企业"),this.merchantName=JSON.parse(o.d.get()),this.merchantName=this.merchantName.merchantName},previewImage:function(e){e&&(this.imgUrl=e,this.isImagePreview=!0)},callTakePhoto:function(e){this.photoTaker=+e,this.openMenu=!0},onFileChange:function(e){var n=this;if(e.target.files){var a=e.target.files[0];a&&r.b.uploadImage(a).then(function(e){if(200===e.code){n.$toast.success("图片上传成功");var a=e.obj;1===n.photoTaker?n.$set(n.detail,"specialQualificationPhotoId",a):2===n.photoTaker?n.$set(n.detail,"businessAdditionPics",a):n.$toast.error(e.msg)}})}},onTakePhoto:function(e){1==+e?this.$refs.fileCamera.click():2==+e&&this.$refs.file.click(),this.openMenu=!1},getImage:function(e){return e?s.b+"/fms/upload/resource/thumbnail/"+e:""},change1:function(e){this.detail.qualificationType=e[1].name,this.detail.settlementId=e[1].value}},l()(i,"intiMerchantType",function(){var e=this.loopSet(h.a);this.cooperationLevTree=e}),l()(i,"loopSet",function(e){var n=this;return e.forEach(function(e){return n.$set(e,"id",e.name),e.children&&e.children.length&&(e.children=n.loopSet(e.children)),e}),e}),i)},p=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("div",{staticClass:"client-info-detail frame-container box"},[a("div",{staticClass:"client-info-detail__padding"}),e._v(" "),a("div",{staticClass:"client-info-detail__nav box plr-30 align-hor-bet",staticStyle:{position:"relative","z-index":"999"}},[a("div",{staticClass:"icon iconfont  iconreturn",on:{click:e.onBack}}),e._v(" "),a("div",{staticClass:"title"},[e._v("微信")]),e._v(" "),a("div",{staticClass:"text",staticStyle:{"background-color":"#4ba8ff",padding:"3px",color:"white","border-radius":"5px"},on:{click:e.saveBtn}},[e._v("保存")])]),e._v(" "),a("div",{staticClass:"client-info-detail__content"},[a("div",{staticClass:"match-width box align-default"},[a("div",{staticClass:"title"},[e._v("经营者信息")]),e._v(" "),a("mu-form",[a("mu-form-item",{staticStyle:{margin:"0 10px",padding:"0"},attrs:{label:"",prop:"businessLevOne",rules:e.businessLevOneRules}},[a("FzyCascaderTree",{attrs:{dataTree:e.cooperationLevTree,label:"经营类别",placeholder:"请选择经营类别",modalLabel:"选择经营类别",required:!0},on:{change1:e.change1},model:{value:e.cooperationLevArr,callback:function(n){e.cooperationLevArr=n},expression:"cooperationLevArr"}}),e._v(" "),a("mu-text-field",{staticStyle:{display:"none"},model:{value:e.params.businessLevOne,callback:function(n){e.$set(e.params,"businessLevOne",n)},expression:"params.businessLevOne"}})],1)],1),e._v(" "),a("div",{staticClass:"item"},[e._m(0),e._v(" "),a("div",{staticClass:"match-left-space align-right"},[a("div",{staticClass:"match-left-space",on:{click:function(n){e.callTakePhoto(1)}}},[e._v(" ")]),e._v(" "),a("div",{staticClass:"input align-right",staticStyle:{width:"auto"}},[e.detail.specialQualificationPhotoId?a("img",{attrs:{src:e._f("loadImage")(e.detail.specialQualificationPhotoId)},on:{click:function(n){e.previewImage(e.detail.specialQualificationPhotoId)}}}):e._e(),e._v(" "),a("div",{staticClass:"icon iconfont iconenter ml-10",on:{click:function(n){e.callTakePhoto(1)}}})])])]),e._v(" "),a("div",{staticClass:"item"},[e._m(1),e._v(" "),a("div",{staticClass:"match-left-space align-right"},[a("div",{staticClass:"match-left-space",on:{click:function(n){e.callTakePhoto(2)}}},[e._v(" ")]),e._v(" "),a("div",{staticClass:"input align-right",staticStyle:{width:"auto"}},[e.detail.businessAdditionPics?a("img",{attrs:{src:e._f("loadImage")(e.detail.businessAdditionPics)},on:{click:function(n){e.previewImage(e.detail.businessAdditionPics)}}}):e._e(),e._v(" "),a("div",{staticClass:"icon iconfont iconenter ml-10",on:{click:function(n){e.callTakePhoto(2)}}})])])]),e._v(" "),a("div",{staticClass:"match-width box align-center"},[a("div",{staticClass:"next box align-center",on:{click:e.submitBtn}},[e._v("\r\n                    确认提交\r\n                ")])])],1)])]),e._v(" "),a("div",{staticClass:"file"},[a("input",{ref:"fileCamera",attrs:{type:"file",capture:"camera",accept:"image/*"},on:{change:e.onFileChange}}),e._v(" "),a("div",{staticClass:"cover"})]),e._v(" "),a("div",{staticClass:"file"},[a("input",{ref:"file",attrs:{type:"file",accept:"image/*"},on:{change:e.onFileChange}}),e._v(" "),a("div",{staticClass:"cover"})]),e._v(" "),e.isImagePreview?a("div",{staticClass:"cover-x align-default",on:{click:function(n){e.isImagePreview=!1}}},[a("div",{staticClass:"match-left-space"}),e._v(" "),a("div",{staticClass:"image-preview"},[a("img",{staticClass:"match-parent",attrs:{src:e._f("previewLoadImage")(e.imgUrl)}})]),e._v(" "),a("div",{staticClass:"match-left-space"})]):e._e(),e._v(" "),a("mu-bottom-sheet",{attrs:{open:e.openMenu},on:{"update:open":function(n){e.openMenu=n}}},[a("div",{staticClass:"action-sheet box align-default menu"},[a("div",{staticClass:"item align-center",on:{click:function(n){e.onTakePhoto(1)}}},[e._v("\r\n      拍照\r\n      ")]),e._v(" "),a("div",{staticClass:"item align-center",on:{click:function(n){e.onTakePhoto(2)}}},[e._v("\r\n      从手机相册选择\r\n      ")]),e._v(" "),a("div",{staticClass:"item align-center cancel",on:{click:function(n){e.onActionMenuShow(2)}}},[e._v("\r\n      取消\r\n      ")]),e._v(" "),a("div",{staticClass:"action-sheet__padding"})])])],1)};p._withStripped=!0;var f={render:p,staticRenderFns:[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"subtitle"},[n("span",{staticClass:"star"}),this._v("特殊资质\r\n                ")])},function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"subtitle"},[n("span",{staticClass:"star"}),this._v("补充材料\r\n                ")])}]},g=f;var _=!1;var b=a("VU/8")(m,g,!1,function(e){_||a("bDCi")},"data-v-f7e1b464",null);b.options.__file="src\\pages\\clientInfo\\submitWx.vue";n.default=b.exports}});
//# sourceMappingURL=7.8cfc38237510d8971ccb.js.map